
open Printf

def main():
  var compiler = Compiler.create()
  if Array.length(Sys.argv) = 1:
    Compiler.interactive(compiler)
  else:
    var fnames = Array.to_list(Array.sub(Sys.argv, 1, Array.length(Sys.argv) - 1))
    if Compiler.compile(compiler, fnames):
      exit(0)
    else:
      exit(1)

main()
