
open Printf

def main():
  var compiler = Compiler.create()
  if Array.length(Sys.argv) = 1:
    ignore(Compiler.interactive(compiler))
  else:
    var fnames = Array.to_list(Array.sub(Sys.argv, 1, Array.length(Sys.argv) - 1))
    match Compiler.compile(compiler, fnames):
      case None:
        exit(1)
      case Some(compiler):
        exit(0)

main()
